Steps: MongoDB statefulset deployment

Created EKS
Created EKS node group
Develope manifests for mongoDB
Tried applying mongoDB manifest but PV createdion failed as I did not install EBS driver in my EKS cluster.
Install EBS CSI driver add on EKS cluster
After installing the csi driver mongoDb statefulset depoyed successfully

kubectl exec -it mongodb-0 -- mongosh

rs.initiate({
  _id: "rs0",
  members: [
    { _id: 0, host: "mongodb-0.mongodb:27017", priority: 2 },
    { _id: 1, host: "mongodb-1.mongodb:27017", priority: 1 },
    { _id: 2, host: "mongodb-2.mongodb:27017", priority: 1 }
  ]
})


Steps: Deploy RabbitMQ deployment

install Load balancer controller on EKS cluster. Using https://docs.aws.amazon.com/eks/latest/userguide/lbc-manifest.html
tagged subnets with kubernetes.io/role/elb: 1 and kubernetes.io/cluster/test-eks: shared
added annotation on loadbalacer type service

steps: Deploy Frontend

install metric server on EKS cluster

install cluster autoscaler with help of this doc https://community.aws/content/2a9qUKMTGUM6DkFdi0dNwtQnAke/cluster-autoscaler-configure-using-aws-eks--1-24?lang=en

default strategy of the deployment in k8s is Rolling update.


Steps: Deploy Backend



Steps to configure a logging solution using Fluentbit.

Create a IAM role which will be used by Fluentbit daemonset to push the logs to Cloudwatch logs.
And install Fluentbit daemonset using Helm chart.
in Fluentbit configuration add the Output configuration to add the logs in the Cloud watch log group and Filter section to 
filter out the desired logs. Configure metric filter and SNS topics for notification and alerting.



Steps to configure Monitoring using Prometheus and grafana

install prometheus community helm chart to configure prometheus and grafana and configure the PVC details in the 
values.yaml for the persitent data. Expose grafana service using a Loadbalancer type service so that we can access.
grafana UI and configure the alert and notificiation using slack webhook. 